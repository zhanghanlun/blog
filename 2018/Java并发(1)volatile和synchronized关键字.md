# 前言
关于volatile和synchronized是我们在并发编程常用的关键字，也是Java并发编程中必不可少的一部分。
# volatile关键字

针对volatile关键字这里有两点解释需要注意：
>* 内存可见性（一个线程修改了某个变量的值，这个值对其他线程立即可见）
>* 禁止指令重排

## 内存可见性
在CPU层面执行volatile变量写的时候，其汇编代码会加lock。这个关键字会产生这么两个作用：
>* 将当前处理器缓存行的数据写回到系统内存。
>* 这个写回内存的操作会使在其他CPU里缓存了该地址的数据无效。

关于内存可见性具体的解释可以这么着：
1. 当写一个volatile变量的时候，JMM会把该线程对应的**本地内存中的共享变量刷到主内存中**
2. 当读一个volatile变量的时候，JMM会把该线程对应的**本地内存置为无效。线程接下来从主内存中读取共享变量。**


## 禁止指令重排
volatile关键字提供的禁止指令重排，